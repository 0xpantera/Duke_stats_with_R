arbuthnot <- arbuthnot %>%
mutate(prop_boys = year / boys)
ggplot(data = arbuthnot, aes(x = year, y = prop_boys)) +
geom_line() +
geom_point()
arbuthnot <- arbuthnot %>%
mutate(more_boys = boys > girls)
data(present)
View(present)
range(present$year)
present <- present %>%
mutate(total = boys + girls)
present <- present %>%
mutate(prop_boys = year / boys)
present <- present %>%
mutate(prop_boys = total / boys)
present <- present %>%
mutate(prop_boys = boys / total)
ggplot(data=present, aes(x = year, y = prop_boys)) +
geom_point() +
geom_line()
present <- present %>%
mutate(more_boys = boys > girls)
ggplot(data=present, aes(x = year, y = more_boys)) +
geom_line()
ggplot(data=present, aes(x = more_boys, y = year)) +
geom_line()
present <- present %>%
mutate(prop_boy_girl = boys / girls)
present <- present %>%
mutate(prop_boy_girl = girls / boys)
ggplot(data=present, aes(x = year, y = prop_boy_girl)) +
geom_point()
present %>%
mutate(total = boys + girls) %>%
arrange(desc(total))
View(present)
library(dplyr)
library(ggplot2)
library(statsr)
View(arbuthnot)
View(arbuthnot)
library(dplyr)
library(ggplot2)
library(statsr)
data(arbuthnot)
write.csv(data=arbuthnot, file = "arbuthnot.csv")
?write.csv
write.csv(arbuthnot, file="arbuthnot.csv")
wd()
pwd
pwd()
data(present)
write.csv(present, file="present.csv")
View(arbuthnot)
mutate(prop_boys = year / boys)
arbuthnot <- arbuthnot %>%
mutate(prop_boys = year / boys)
View(arbuthnot)
geom_point()
arbuthnot <- arbuthnot %>%
mutate(prop_boys = boys / total)
ggplot(data = arbuthnot, aes(x = year, y = prop_boys)) +
geom_line() +
geom_point()
View(arbuthnot)
arbuthnot <- arbuthnot %>%
mutate(prop_boys = boys / total)
mutate(total = boys + girls)
arbuthnot <- arbuthnot %>%
mutate(total = boys + girls)
arbuthnot <- arbuthnot %>%
mutate(prop_boys = boys / total)
library(statsr)
library(statsr)
library(dplyr)
library(ggplot2)
data(nycflights)
View(nycflights)
names(nycflights)
?nycflights
str(nycflights)
ggplot(data = nycflights, aes(x = dep_delay)) +
geom_histogram()
ggplot(data = nycflights, aes(x = dep_delay)) +
geom_histogram(binwidth = 15)
ggplot(data = nycflights, aes(x = dep_delay)) +
geom_histogram(binwidth = 150)
rdu_flights <- nycflights %>%
filter(dest == "RDU")
ggplot(data = rdu_flights, aes(x = dep_delay)) +
geom_histogram()
View(rdu_flights)
rdu_flights %>%
summarise(mean_dd = mean(dep_delay), sd_dd = sd(dep_delay), n = n())
sfo_feb_flights <- nycflights %>%
filter(dest == "SFO", month == 2)
sfo_feb_flights %>% summarise(n = n())
ggplot(data = sfo_feb_flights, aes(x = arr_delay)) +
geom_histogram()
sfo_feb_flights %>%
summarise(mean_arr_del = mean(arr_delay), std_arr_del = sd(arr_delay), iqr_arr_del = IQR(arr_delay))
rdu_flights %>%
group_by(origin) %>%
summarise(mean_dd = mean(dep_delay), sd_dd = sd(dep_delay), n = n())
View(sfo_feb_flights)
sfo_feb_flights %>%
group_by(carrier) %>%
summarise(med_arr_del = median(arr_delay), iqr_arr_del = IQR(arr_delay))
View(nycflights)
nycflights %>%
group_by(month) %>%
summarise(mean_dd = mean(dep_delay)) %>%
arrange(desc(mean_dd))
nycflights %>%
group_by(month) %>%
summarise(med_dep_del = median(dep_delay)) %>%
arrange(desc(med_dep_del))
ggplot(nycflights, aes(x = factor(month), y = dep_delay)) +
geom_boxplot()
nycflights <- nycflights %>%
mutate(dep_type = ifelse(dep_delay < 5, "on time", "delayed"))
nycflights %>%
group_by(origin) %>%
summarise(ot_dep_rate = sum(dep_type == "on time") / n()) %>%
arrange(desc(ot_dep_rate))
ggplot(data = nycflights, aes(x = origin, fill = dep_type)) +
geom_bar()
nycflights <- nycflights %>%
mutate(avg_speed = (distance / (air_time/60))
View(nycflights)
nycflights <- nycflights %>%
mutate(avg_speed = distance/(air_time/60))
View(nycflights)
?arrange
nycflights %>%
group_by(tailnum) %>%
arrange(avg_speed)
nycflights %>%
group_by(tailnum) %>%
arrange(avg_speed) %>%
select(avg_speed, tailnum)
nycflights %>%
group_by(tailnum) %>%
arrange(desc(avg_speed)) %>%
select(avg_speed, tailnum)
ggplot(data = nycflights, aes(x = avg_speed, y = distance))
ggplot(data = nycflights, aes(x = avg_speed, y = distance)) +
geom_point()
ggplot(data = nycflights, aes(x = distance, y = avg_speed)) +
geom_point()
nycflights <- nycflights %>%
mutate(arr_type = ifelse(arr_delay <= 0, "on time", "delayed"))
View(nycflights)
nycflights %>%
group_by(dep_type) %>%
summarise(ot_arr_rate = sum(arr_type == "on time") / n())
ggplot(data = nycflights, aes(x = dep_delay)) +
geom_histogram()
data(nycflights)
library(statsr)
library(dplyr)
library(ggplot2)
data(nycflights)
ggplot(data = nycflights, aes(x = dep_delay)) +
geom_histogram()
ggplot(data = nycflights, aes(x = dep_delay)) +
geom_histogram(binwidth = 15)
ggplot(data = nycflights, aes(x = dep_delay)) +
geom_histogram(binwidth = 150)
library(statsr)
library(statsr)
library(dplyr)
library(ggplot2)
data(kobe_basket)
names(kobe_basket)
View(kobe_basket)
kobe_streak <- calc_streak(kobe_basket$shot)
View(kobe_streak)
geom_histogram(binwidth = 1)
ggplot(data = kobe_streak, aes(x = length)) +
geom_histogram(binwidth = 1)
median(kobe_streak$length)
IQR(kobe_streak$length)
coin_outcomes <- c("heads", "tails")
sample(coin_outcomes, size = 1, replace = TRUE)
```
sample(coin_outcomes, size = 1, replace = TRUE)
sample(coin_outcomes, size = 1, replace = TRUE)
sample(coin_outcomes, size = 1, replace = TRUE)
sample(coin_outcomes, size = 1, replace = TRUE)
sim_fair_coin <- sample(coin_outcomes, size = 100, replace = TRUE)
sim_fair_coin
table(sim_fair_coin)
sim_unfair_coin <- sample(coin_outcomes, size = 100, replace = TRUE,
prob = c(0.2, 0.8))
table(sim_unfair_coin)
shot_outcomes <- c("H", "M")
sim_basket <- sample(shot_outcomes, size = 1, replace = TRUE)
table(sim_basket)
shot_outcomes <- c("H", "M")
sim_basket <- sample(shot_outcomes, size = 1, replace = TRUE)
sample(shot_outcomes, size=100, replace=TRUE)
table(sample(shot_outcomes, size=100, replace=TRUE))
?sample
sim_basket <- sample(shot_outcomes, size = 1, replace = TRUE, prob = c(0.45, 0.55))
sim_basket <- sample(shot_outcomes, size = 133, replace = TRUE, prob = c(0.45, 0.55))
sim_streak <- calc_streak(sim_basket)
View(sim_streak)
View(sim_streak)
ggplot(data = sim_streak, aes(x = length)) +
geom_histogram(binwidth = 1)
median(sim_streak)
median(sim_streak$length)
IQR(sim_streak$length)
View(kobe_streak)
library(statsr)
calc_streak
98/2
98.0/2
qnorm(0.049)
quit()
qnorm(0.049)
qnorm(0.01)
quit()
library(statsr)
library(dplyr)
library(ggplot2)
data(nc)
str(nc)
View(nc)
hist(nc$fage)
ggplot(nc, aes(x = c(fage, mage))) +
geom_boxplot()
ggplot(nc, aes(x = fage) + geom_boxplot()
)
ggplot(nc, aes(x = fage)) + geom_boxplot()
nc %>%
filter(!is.na(fage)) %>%
ggplot(nc, aes(fage)) +
geom_boxplot()
nc %>%
filter(!is.na(fage)) %>%
ggplot(nc, aes(x = fage)) +
geom_boxplot()
test <- nc %>%
filter(!is.na(fage))
ggplot(test, aes(x = fage)) +
geom_boxplot()
summary(nc$gained)
?n
nc %>%
filter(is.na(gained)) %>%
summarise(count = n())
nc[is.na(gained)]
nc[is.na(nc$gained)]
nc[nc == is.na(gained)]
nc[nc == is.na(nc$gained)]
summary(nc$gained)
ggplot(nc, aes(x = !is.na(gained))) +
geom_boxplot()
ggplot(nc, aes(x = gained)) +
geom_boxplot()
ggplot(nc, aes(x = gained)) +
geom_histogram()
ggplot(nc, aes(x = c(habit, weight))) +
geom_boxplot()
ggplot(nc, aes(x = habit, weight)) +
geom_boxplot()
nc %>%
group_by(habit) %>%
summarise(mean_weight = mean(weight))
nc %>%
group_by(habit) %>%
summarise(group_size = n())
inference(y = weight, x = habit, data = nc, statistic = "mean", type = "ht", null = 0,
alternative = "twosided", method = "theoretical")
inference(y = weight, x = habit, data = nc, statistic = "mean", type = "ci", method = "theoretical")
inference(y = weight, x = habit, data = nc, statistic = "mean", type = "ci",
method = "theoretical", order = c("smoker","nonsmoker"))
?inference
method = "theoretical", order = c("smoker","nonsmoker"), conf_level = 0.95)
inference(y = weight, x = habit, data = nc, statistic = "mean", type = "ci",
method = "theoretical", order = c("smoker","nonsmoker"), conf_level = 0.95)
inference(y = weeks, data = nc, statistic = "mean", type = "ci", method = "theoretical", conf_level = 0.99)
inference(y = weeks, data = nc, statistic = "mean", type = "ci", method = "theoretical", conf_level = 0.90)
inference(y = weight, x = mature, data = nc, statistic = "mean", type = "ht", null = 0,
alternative = "twosided", method = "theoretical")
View(nc)
inference(y = gained, x = mature, data = nc, statistic = "mean", type = "ht", null = 0,
alternative = "twosided", method = "theoretical")
levels(nc$mature)
str(nc$mature)
nc %>%
group_by(mature) %>%
summarise(max_age = max(mage), min_age = min(mage))
library(statsr)
library(dplyr)
library(ggplot2)
data(atheism)
View(atheism)
str(atheism)
n(atheism$nationality)
atheism %>% group_by(nationality) %>% summarise(total = n())
us12 <- atheism %>%
filter(nationality == "United States" , atheism$year == "2012")
View(us12)
n(response)
us12 %>% n(response)
?n
us12 %>% group_by(response) %>% summarise(total = n())
levels(us12$response)
summary(us12$response)
us12$response[1]
us12$response[2]
us$response["atheist"]
us12$response["atheist"]
levels(us12$response)[1]
levels(us12$response)[2]
50/952
us12 %>%
group_by(response) %>%
summarise(prop_atheists = levels(us12$response)[1]/levels(us12$response)[2])
us12 %>%
group_by(response) %>%
summarise(prop_atheists = df[df$response == levels(us12$response)[1]]/df[df$response == levels(us12$response)[2]])
us12 %>%
group_by(response) %>%
summarise(total = n())
?n
us12 %>%
mutate(atheist = ifelse(response == "atheist", 1, 0))
View(us12)
us12 %>% us12 %>%
mutate(atheist = ifelse(response == "atheist", 1, 0))
us12 <- us12 %>%
mutate(atheist = ifelse(response == "atheist", 1, 0))
inference(y = response, data = us12, statistic = "proportion", type = "ci", method = "theoretical", success = "atheist")
spain <- atheism %>%
filter(nationality == "spain", year == 2005, year == 2012)
View(spain)
spain <- atheism %>%
filter(nationality == "Spain", year == 2005, year == 2012)
spain <- atheism %>%
filter(nationality == "Spain", year == "2005", year == "2012")
View(spain)
spain <- atheism %>%
filter(nationality == "Spain")
View(spain)
?inference
inference(y = response, x = year, data = spain, statistic = "proportion", type = "ci", method = "theoretical", success = "atheist")
inference(y = response, x = year, data = spain, type = "ht", statistic = "proportion", success = "atheist", method = "theoretical", null = 0, alternative = "twosided")
usa <- atheism %>%
filter(nationality == "United States")
inference(y = response, x = year, data = usa, statistic = "proportion", type = "ci", method = "theoretical", success = "atheist")
inference(y = response, x = year, data = usa, type = "ht", statistic = "proportion", success = "atheist", method = "theoretical", null = 0, alternative = "twosided")
39 * 0.05
library(ggplot2)
library(dplyr)
library(statsr)
load("gss.Rdata")
setwd("~/Documents/Duke_stats_with_R/inference/final_project/")
load("gss.Rdata")
View(gss)
str(gss$coninc)
str(gss$richwork)
str(gss$getaid)
str(gss$sex)
gss %>%
filter(sex == "Male") %>%
group_by(getaid) %>%
summarise(total = n())
gss %>%
filter(sex == "Male", !is.na()) %>%
group_by(getaid) %>%
summarise(total = n())
gss %>%
filter(sex == "Male", !is.na(getaid)) %>%
group_by(getaid) %>%
summarise(total = n())
gss %>%
select(sex, getaid) %>%
filter(sex == "Male", !is.na(getaid)) %>%
group_by(getaid) %>%
summarise(total = n())
gss %>%
select(sex, getaid) %>%
filter(!is.na(getaid)) %>%
group_by(getaid) %>%
summarise(total = n())
gss %>%
select(sex, getaid) %>%
filter(!is.na(getaid)) %>%
group_by(getaid, sex) %>%
summarise(total = n())
gss %>%
filter(!is.na(getaid)) %>%
group_by(getaid, sex) %>%
summarise(total = n())
gss %>%
filter(!is.na(getaid)) %>%
group_by(getaid) %>%
summarise(total = n())
gss %>%
filter(!is.na(getaid)) %>%
group_by(getaid) %>%
summarise(total_male = sum(male), total_female = sum(female))
gss %>%
filter(!is.na(getaid)) %>%
group_by(getaid) %>%
summarise(total_male = sum(Male), total_female = sum(Female))
gss %>%
filter(!is.na(getaid)) %>%
group_by(getaid) %>%
summarise(total_male = sum("Male"), total_female = sum("Female"))
gss %>%
filter(!is.na(getaid)) %>%
group_by(getaid) %>%
summarise(total_male = sum(gss[sex == "Male"]))
gss %>%
filter(!is.na(getaid)) %>%
group_by(getaid, sex) %>%
summarise(total = n())
total_male <- 80 + 536
total_female <- 201 + 643
total_male
total_female
616 - 80
844 - 201
str(gss$getaid)
inference(y = getaid, x = sex, data = gss, statistic = "proportion", type = "ci", method = "theoretical", success = "Yes")
inference(y = getaid, x = sex, data = gss, type = "ht", statistic = "proportion", success = "Yes", method = "theoretical", null = 0, alternative = "twosided")
gss %>%
filter(is.na(getaid)) %>%
summary(total = n())
gss %>%
filter(is.na(getaid)) %>%
group_by(getaid)
summary(total = n())
gss %>%
select(getaid) %>%
filter(is.na(getaid)) %>%
group_by(getaid)
summary(total = n())
gss %>%
select(getaid) %>%
filter(is.na(getaid)) %>%
group_by(getaid)
summarise(total = n())
gss %>%
filter(is.na(getaid)) %>%
group_by(getaid)
summarise(total = n())
gss %>%
select(getaid) %>%
filter(is.na(getaid)) %>%
summarise(total = n())
ggplot(data = gss, aes(x = sex, y = getaid)) +
geom_boxplot()
ggplot(data = gss, aes(x = sex, y = getaid)) +
geom_tile()
str(gss$coninc)
ggplot(gss, aes(x = gender, y = coninc, fill = gender)) + geom_boxplot() +
facet_wrap(~ getaid, ncol = 2)
ggplot(gss, aes(x = sex, y = coninc, fill = gender)) + geom_boxplot() +
facet_wrap(~ getaid, ncol = 2)
ggplot(gss, aes(x = sex, y = coninc, fill = sex)) + geom_boxplot() +
facet_wrap(~ getaid, ncol = 2)
ggplot(gss, aes(x = sex, y = coninc, fill = sex)) + geom_boxplot() +
facet_wrap(~ !is.na(getaid), ncol = 2)
ggplot(gss, aes(x = sex, y = coninc, fill = sex)) + geom_boxplot() +
facet_wrap(~ getaid, ncol = 2)
ggplot(gss, aes(x = getaid)) +
geom_bar()
ggplot(gss, aes(x = !is.na(getaid))) +
geom_bar()
ggplot(gss, aes(x = sex, y = coninc, fill = sex, na.rm = TRUE)) + geom_boxplot() +
facet_wrap(~ getaid, ncol = 2)
ggplot(gss, aes(x = getaid, na.rm = TRUE)) +
geom_bar()
ggplot(data = subset(gss, is!na(getaid)), aes(x = getaid)) +
geom_bar()
ggplot(data = subset(gss, is!na(getaid)), aes(x = getaid)) +
geom_bar(stat = bin)
ggplot(data = subset(gss, is!na(getaid)), aes(x = getaid)) +
geom_bar(stat = "bin")
ggplot(data = subset(gss, is!na(getaid)), aes(x = getaid)) +
geom_bar()
ggplot(gss, aes(x = sex, y = coninc, fill = sex, na.rm = TRUE)) + geom_boxplot() +
facet_wrap(~ getaid, ncol = 2)
gss %>%
filter(!is.na(getaid)) %>%
ggplot(gss, aes(x = getaid)) +
geom_bar()
ggplot(gss, aes(x = getaid)) +
geom_bar()
no_nas <- gss %>%
filter(!is.na(getaid))
ggplot(no_nas, aes(x = sex, y = coninc, fill = sex)) + geom_boxplot() +
facet_wrap(~ getaid, ncol = 2)
ggplot(no_nas, aes(x = getaid)) +
geom_bar()
ggplot(no_nas, aes(x = getaid)) +
geom_bar() +
facet_wrap(~ sex, ncol = 2)
ggplot(no_nas,aes(x = getaid, y = value)) +
geom_bar(position = "fill",stat = "identity") +
scale_y_continuous(labels = percent_format())
gss %>%
filter(!is.na(getaid)) %>%
group_by(getaid, sex) %>%
summarise(total = n())
